{"version":3,"sources":["reducers/session.js","constants/actions_types.js","reducers/index.js","store/index.js","components/WithAuthenticate/index.js","components/Navigation/auth.js","constants/routes.js","components/Navigation/nonauth.js","components/Navigation/index.js","components/Home/auth.js","components/Home/nonauth.js","components/Home/index.js","components/NotFound/index.js","components/SignUp/index.js","components/Login/index.js","components/App/index.js","index.js"],"names":["INITIAL_STATE","authUser","loading","sessionReducer","state","arguments","length","undefined","action","type","rootReducer","combineReducers","sessionState","store","createStore","applyMiddleware","logger","authenticate","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","token","requestBody","_ref2","data","user","_id","email","wrap","_context","prev","next","localStorage","getItem","query","concat","axios","post","sent","verifyToken","removeItem","t0","stop","_x","apply","this","useWithAuthenticate","useDispatch","useEffect","AuthNav","props","react_default","createElement","className","style","navbarStyles","react_router_dom","objectSpread","linkStyles","margin","to","marginLeft","onClick","NonAuthNav","display","background","padding","color","textDecoration","Navigation","mapState","useCallback","useMappedState","auth","nonauth","AuthHome","Fragment","NonAuthHome","Home","Home_auth","Home_nonauth","NotFound","withRouter","_useState","useState","_useState2","slicedToArray","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirm","setConfirm","_useState7","_useState8","error","setError","_useState9","_useState10","setLoading","_handleChange","setter","e","target","value","_handleSubmit","requestbody","_ref3","preventDefault","errors","message","createUser","setItem","history","push","onSubmit","name","placeholder","onChange","_data$data$login","login","App","basename","process","components_Navigation","react_router","exact","path","component","components_Home","components_SignUp","Login","defaults","headers","common","ReactDOM","render","index_es","Provider","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.7ca89761.chunk.js","sourcesContent":["import {\n    SET_AUTH_USER,\n} from '../constants/actions_types';\n\nconst INITIAL_STATE = {\n    authUser: null,\n    loading: true,\n};\n\nconst sessionReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SET_AUTH_USER:\n            return { authUser: action.authUser, loading: false };\n        default:\n            return state;\n    }\n};\n\nexport default sessionReducer;\n","export const SET_AUTH_USER = 'SET_AUTH_USER';\n","import { combineReducers } from 'redux';\n\nimport sessionReducer from './session';\n\nconst rootReducer = combineReducers({\n    sessionState: sessionReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\n\nimport rootReducer from '../reducers';\n\nconst store = createStore(rootReducer, applyMiddleware(logger));\n\nexport default store;\n","import { useEffect } from 'react';\nimport { useDispatch } from 'redux-react-hook';\nimport axios from 'axios';\n\nimport * as actions from '../../constants/actions_types';\n\nconst authenticate = async (dispatch) => {\n    const token = localStorage.getItem('token');\n\n    if (!!token) {\n        try {\n            const requestBody = {\n                query: `\n                    query {\n                        verifyToken(token: \"${token}\") {\n                            _id\n                            email\n                        }\n                    }\n                `,\n            };\n\n            const { data } = await axios.post('/api', requestBody);\n            const user = await data.data.verifyToken;\n\n            if (user) {\n                const { _id, email } = user;\n                \n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n            } else {\n                dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n                localStorage.removeItem('token');\n            }\n        } catch {\n            dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n        }\n    } else {\n        dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n    }\n};\n\nconst useWithAuthenticate = () => {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        authenticate(dispatch);\n    });\n};\n\nexport default useWithAuthenticate;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'redux-react-hook';\n\nimport * as routes from '../../constants/routes';\nimport * as actions from '../../constants/actions_types';\n\nconst AuthNav = (props) => {\n    const dispatch = useDispatch();\n\n    const logout = () => {\n        dispatch({\n            type: actions.SET_AUTH_USER,\n            authUser: null,\n        });\n        localStorage.removeItem('token');\n    };\n    \n    return (\n        <div className=\"navbar\" style={props.navbarStyles}>\n            <div className=\"navbar__left\">\n                <Link style={{ ...props.linkStyles, margin: 0 }} to={routes.HOME}>Home</Link>\n            </div>\n\n            <div className=\"navbar__right\" style={{ marginLeft: 'auto' }}>\n                <Link style={props.linkStyles} onClick={logout} to={routes.HOME}>Logout</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default AuthNav;\n","export const HOME = '/';\nexport const LOGIN = '/login';\nexport const SIGN_UP = '/signup';\nexport const URL_CODE = '/:code';\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport * as routes from '../../constants/routes';\n\nconst NonAuthNav = (props) => {\n    return (\n        <div className=\"navbar\" style={props.navbarStyles}>\n            <div className=\"navbar__left\">\n                <Link style={{ ...props.linkStyles, margin: 0 }} to={routes.HOME}>Home</Link>\n            </div>\n\n            <div className=\"navbar__right\" style={{ marginLeft: 'auto' }}>\n                <Link style={props.linkStyles} to={routes.SIGN_UP}>Sign up</Link>\n                <Link style={props.linkStyles} to={routes.LOGIN}>Login</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default NonAuthNav;\n","import React, { useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMappedState } from 'redux-react-hook';\n\nimport * as routes from '../../constants/routes';\n\nimport AuthNav from './auth';\nimport NonAuthNav from './nonauth';\n\nconst navbarStyles = {\n    display: 'flex',\n    background: '#1e1e1e',\n    padding: '20px 60px',\n};\n\nconst linkStyles = {\n    color: '#fff',\n    textDecoration: 'none',\n    marginLeft: 20,\n};\n\nconst Navigation = () => {\n    const mapState = useCallback((state) => ({\n        authUser: state.sessionState.authUser,\n    }), []);\n\n    const { authUser } = useMappedState(mapState);\n    \n    return authUser ? \n        <AuthNav navbarStyles={navbarStyles} linkStyles={linkStyles} /> : \n        <NonAuthNav navbarStyles={navbarStyles} linkStyles={linkStyles} />;\n};\n\nexport default Navigation;\n","import React from 'react';\n\nconst AuthHome = () => {\n    return (\n        <>\n            <h1>Home</h1>\n            <p>You are logged in</p>\n        </>\n    );\n};\n\nexport default AuthHome;\n","import React from 'react';\n\nconst NonAuthHome = () => {\n    return (\n        <>\n            <h1>Home</h1>\n            <p>Home for everyone</p>\n        </>\n    );\n};\n\nexport default NonAuthHome;\n","import React, { useCallback } from 'react';\nimport { useMappedState } from 'redux-react-hook';\n\nimport AuthHome from './auth';\nimport NonAuthHome from './nonauth';\n\nconst Home = () => {\n    const mapState = useCallback((state) => ({\n        authUser: state.sessionState.authUser,\n    }), []);\n    \n    const { authUser } = useMappedState(mapState);\n    \n    return authUser ? <AuthHome /> : <NonAuthHome />;\n};\n\nexport default Home;\n","import React from 'react';\n\nconst NotFound = () => {\n    return <h1>Oops... Page does not exist!</h1>\n};\n\nexport default NotFound;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'redux-react-hook';\nimport { withRouter } from 'react-router-dom';\n\nimport * as actions from '../../constants/actions_types';\nimport * as routes from '../../constants/routes';\n\nconst SignUp = (props) => {\n    const dispatch = useDispatch();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirm, setConfirm] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const _handleChange = setter => e => {\n        setter(e.target.value);\n    };\n\n    const _handleSubmit = async (e) => {\n        if (e) e.preventDefault();\n        setLoading(true);\n\n        const requestbody = {\n            query: `\n                mutation {\n                    createUser(userInput: {\n                        email: \"${email}\"\n                        password: \"${password}\"\n                        confirm: \"${confirm}\"\n                    }) {\n                        _id\n                        token\n                        email\n                    }\n                }\n            `,\n        };\n\n        try {\n            const { data } = await axios.post('/api', requestbody);\n\n            if (data.errors) {\n                setError(data.errors[0].message);\n                setLoading(false);\n            } else {\n                const { _id, token } = await data.data.createUser;\n\n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n                setError(null);\n                setLoading(false);\n                localStorage.setItem('token', token);\n                props.history.push(routes.HOME);\n            }\n        } catch (err) {\n            setError(err);\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"content\">\n            <h1>Sign Up</h1>\n\n            <form className=\"form\" onSubmit={_handleSubmit}>\n                <input\n                    type=\"text\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    value={email}\n                    onChange={_handleChange(setEmail)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={_handleChange(setPassword)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"confirm\"\n                    placeholder=\"Confirm password\"\n                    value={confirm}\n                    onChange={_handleChange(setConfirm)}\n                />\n\n                <div><span style={{ color: \"red\" }}>{error || \"\"}</span></div>\n\n                <input type=\"submit\" value={loading ? 'Verifying...' : 'Sign Up'} />\n            </form>\n        </div>\n    );\n};\n\nexport default withRouter(SignUp);\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { useDispatch } from 'redux-react-hook';\n\nimport * as actions from '../../constants/actions_types';\nimport * as routes from '../../constants/routes';\n\nconst SignIn = (props) => {\n    const dispatch = useDispatch();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    \n    const _handleChange = setter => e => {\n        setter(e.target.value);\n    };\n\n    const _handleSubmit = async (e) => {\n        if (e) e.preventDefault();\n        setLoading(true);\n\n        try {\n            const requestBody = {\n                query: `\n                    query {\n                        login(email: \"${email}\", password: \"${password}\") {\n                            _id\n                            token\n                            email\n                        }\n                    }\n                `,\n            };\n\n            const { data } = await axios.post('/api', requestBody);\n\n            if (data.errors) {\n                setLoading(false);\n                setError(data.errors[0].message);\n            } else {\n                const { _id, token } = data.data.login;\n\n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n                setLoading(false);\n                setError(null);\n                localStorage.setItem('token', token);\n                props.history.push(routes.HOME);\n            }\n        } catch(err) {\n            setError(err);\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"content\">\n            <h1>Login</h1>\n\n            <form className=\"form\" onSubmit={_handleSubmit}>\n                <input\n                    type=\"text\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    value={email}\n                    onChange={_handleChange(setEmail)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={_handleChange(setPassword)}\n                />\n\n                <div><span style={{ color: \"red\" }}>{error || \"\"}</span></div>\n\n                <input type=\"submit\" value={loading ? 'Verifying...' : 'Login'} />\n            </form>\n        </div>\n    );\n};\n\nexport default withRouter(SignIn);\n","import React, { useCallback } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useMappedState } from 'redux-react-hook';\n\nimport useWithAuthenticate from '../WithAuthenticate';\nimport Navigation from '../Navigation';\nimport Home from '../Home';\nimport NotFound from '../NotFound';\nimport SignUp from '../SignUp';\nimport Login from '../Login';\n\nimport * as routes from '../../constants/routes';\nimport './App.css';\n\nconst App = () => {\n  useWithAuthenticate();\n  const mapState = useCallback((state) => ({\n    loading: state.sessionState.loading,\n  }), []);\n\n  const { loading } = useMappedState(mapState);\n\n  if (loading) return <h1>Loading...</h1>\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <Navigation />\n        <Switch>\n          <Route exact path={routes.HOME} component={() => <Home />} />\n          <Route exact path={routes.SIGN_UP} component={() => <SignUp />} />\n          <Route exact path={routes.LOGIN} component={() => <Login />} />\n          <Route component={NotFound} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StoreContext } from 'redux-react-hook';\nimport axios from 'axios';\n\nimport store from './store';\n\nimport App from './components/App';\nimport './index.css';\n\n(function() {\n    const token = localStorage.getItem('token');\n    if (token) {\n        axios.defaults.headers.common['Authorization'] = token;\n    } else {\n        axios.defaults.headers.common['Authorization'] = null;\n    }\n})();\n\nReactDOM.render(\n    <StoreContext.Provider value={store}>\n        <App />\n    </StoreContext.Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}