{"version":3,"sources":["reducers/session.js","constants/actions_types.js","reducers/index.js","store/index.js","components/WithAuthenticate/index.js","constants/routes.js","components/Navigation/auth.js","components/Navigation/nonauth.js","components/Navigation/index.js","components/Home/auth.js","components/Home/nonauth.js","components/Home/index.js","components/NotFound/index.js","components/SignUp/index.js","components/Login/index.js","components/App/index.js","index.js"],"names":["INITIAL_STATE","authUser","loading","sessionReducer","state","arguments","length","undefined","action","type","rootReducer","combineReducers","sessionState","store","createStore","applyMiddleware","logger","authenticate","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","token","requestBody","_ref2","data","user","_id","email","wrap","_context","prev","next","localStorage","getItem","query","concat","axios","post","sent","verifyToken","removeItem","t0","stop","_x","apply","this","useWithAuthenticate","useDispatch","useEffect","HOME","LOGIN","SIGN_UP","AuthNav","props","react_default","createElement","className","style","navbarStyles","react_router_dom","objectSpread","linkStyles","margin","to","routes","marginLeft","onClick","NonAuthNav","display","background","padding","color","textDecoration","Navigation","mapState","useCallback","useMappedState","auth","nonauth","AuthHome","Fragment","NonAuthHome","Home","Home_auth","Home_nonauth","NotFound","withRouter","_useState","useState","_useState2","slicedToArray","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirm","setConfirm","_useState7","_useState8","error","setError","_useState9","_useState10","setLoading","_handleChange","setter","e","target","value","_handleSubmit","requestbody","_ref3","preventDefault","errors","message","createUser","setItem","history","push","onSubmit","name","placeholder","onChange","_data$data$login","login","App","basename","process","components_Navigation","react_router","exact","path","component","components_Home","components_SignUp","Login","defaults","headers","common","ReactDOM","render","index_es","Provider","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.2b6bd023.chunk.js","sourcesContent":["import {\n    SET_AUTH_USER,\n} from '../constants/actions_types';\n\nconst INITIAL_STATE = {\n    authUser: null,\n    loading: true,\n};\n\nconst sessionReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SET_AUTH_USER:\n            return { authUser: action.authUser, loading: false };\n        default:\n            return state;\n    }\n};\n\nexport default sessionReducer;\n","export const SET_AUTH_USER = 'SET_AUTH_USER';\n","import { combineReducers } from 'redux';\n\nimport sessionReducer from './session';\n\nconst rootReducer = combineReducers({\n    sessionState: sessionReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\n\nimport rootReducer from '../reducers';\n\nconst store = createStore(rootReducer, applyMiddleware(logger));\n\nexport default store;\n","import { useEffect } from 'react';\nimport { useDispatch } from 'redux-react-hook';\nimport axios from 'axios';\n\nimport * as actions from '../../constants/actions_types';\n\nconst authenticate = async (dispatch) => {\n    const token = localStorage.getItem('token');\n\n    if (!!token) {\n        try {\n            const requestBody = {\n                query: `\n                    query {\n                        verifyToken(token: \"${token}\") {\n                            _id\n                            email\n                        }\n                    }\n                `,\n            };\n\n            const { data } = await axios.post('/api', requestBody);\n            const user = await data.data.verifyToken;\n\n            if (user) {\n                const { _id, email } = user;\n                \n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n            } else {\n                dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n                localStorage.removeItem('token');\n            }\n        } catch {\n            dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n        }\n    } else {\n        dispatch({ type: actions.SET_AUTH_USER, authUser: null });\n    }\n};\n\nconst useWithAuthenticate = () => {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        authenticate(dispatch);\n    });\n};\n\nexport default useWithAuthenticate;\n","export const HOME = '/';\nexport const LOGIN = '/login';\nexport const SIGN_UP = '/signup';\nexport const URL_CODE = '/:code';\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'redux-react-hook';\n\nimport * as routes from '../../constants/routes';\nimport * as actions from '../../constants/actions_types';\n\nconst AuthNav = (props) => {\n    const dispatch = useDispatch();\n\n    const logout = () => {\n        dispatch({\n            type: actions.SET_AUTH_USER,\n            authUser: null,\n        });\n        localStorage.removeItem('token');\n    };\n    \n    return (\n        <div className=\"navbar\" style={props.navbarStyles}>\n            <div className=\"navbar__left\">\n                <Link style={{ ...props.linkStyles, margin: 0 }} to={routes.HOME}>Home</Link>\n            </div>\n\n            <div className=\"navbar__right\" style={{ marginLeft: 'auto' }}>\n                <Link style={props.linkStyles} onClick={logout} to={routes.HOME}>Logout</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default AuthNav;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport * as routes from '../../constants/routes';\n\nconst NonAuthNav = (props) => {\n    return (\n        <div className=\"navbar\" style={props.navbarStyles}>\n            <div className=\"navbar__left\">\n                <Link style={{ ...props.linkStyles, margin: 0 }} to={routes.HOME}>Home</Link>\n            </div>\n\n            <div className=\"navbar__right\" style={{ marginLeft: 'auto' }}>\n                <Link style={props.linkStyles} to={routes.SIGN_UP}>Sign up</Link>\n                <Link style={props.linkStyles} to={routes.LOGIN}>Login</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default NonAuthNav;\n","import React, { useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMappedState } from 'redux-react-hook';\n\nimport * as routes from '../../constants/routes';\n\nimport AuthNav from './auth';\nimport NonAuthNav from './nonauth';\n\nconst navbarStyles = {\n    display: 'flex',\n    background: '#1e1e1e',\n    padding: '20px 60px',\n};\n\nconst linkStyles = {\n    color: '#fff',\n    textDecoration: 'none',\n    marginLeft: 20,\n};\n\nconst Navigation = () => {\n    const mapState = useCallback((state) => ({\n        authUser: state.sessionState.authUser,\n    }), []);\n\n    const { authUser } = useMappedState(mapState);\n    \n    return authUser ? \n        <AuthNav navbarStyles={navbarStyles} linkStyles={linkStyles} /> : \n        <NonAuthNav navbarStyles={navbarStyles} linkStyles={linkStyles} />;\n};\n\nexport default Navigation;\n","import React from 'react';\n\nconst AuthHome = () => {\n    return (\n        <>\n            <h1>Home</h1>\n            <p>You are logged in</p>\n        </>\n    );\n};\n\nexport default AuthHome;\n","import React from 'react';\n\nconst NonAuthHome = () => {\n    return (\n        <>\n            <h1>Home</h1>\n            <p>Home for everyone</p>\n        </>\n    );\n};\n\nexport default NonAuthHome;\n","import React, { useCallback } from 'react';\nimport { useMappedState } from 'redux-react-hook';\n\nimport AuthHome from './auth';\nimport NonAuthHome from './nonauth';\n\nconst Home = () => {\n    const mapState = useCallback((state) => ({\n        authUser: state.sessionState.authUser,\n    }), []);\n    \n    const { authUser } = useMappedState(mapState);\n    \n    return authUser ? <AuthHome /> : <NonAuthHome />;\n};\n\nexport default Home;\n","import React from 'react';\n\nconst NotFound = () => {\n    return <h1>Oops... Page does not exist!</h1>\n};\n\nexport default NotFound;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'redux-react-hook';\nimport { withRouter } from 'react-router-dom';\n\nimport * as actions from '../../constants/actions_types';\nimport * as routes from '../../constants/routes';\n\nconst SignUp = (props) => {\n    const dispatch = useDispatch();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirm, setConfirm] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const _handleChange = setter => e => {\n        setter(e.target.value);\n    };\n\n    const _handleSubmit = async (e) => {\n        if (e) e.preventDefault();\n        setLoading(true);\n\n        const requestbody = {\n            query: `\n                mutation {\n                    createUser(userInput: {\n                        email: \"${email}\"\n                        password: \"${password}\"\n                        confirm: \"${confirm}\"\n                    }) {\n                        _id\n                        token\n                        email\n                    }\n                }\n            `,\n        };\n\n        try {\n            const { data } = await axios.post('/api', requestbody);\n\n            if (data.errors) {\n                setError(data.errors[0].message);\n                setLoading(false);\n            } else {\n                const { _id, token } = await data.data.createUser;\n\n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n                setError(null);\n                setLoading(false);\n                localStorage.setItem('token', token);\n                props.history.push(routes.HOME);\n            }\n        } catch (err) {\n            setError(err);\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"content\">\n            <h1>Sign Up</h1>\n\n            <form className=\"form\" onSubmit={_handleSubmit}>\n                <input\n                    type=\"text\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    value={email}\n                    onChange={_handleChange(setEmail)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={_handleChange(setPassword)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"confirm\"\n                    placeholder=\"Confirm password\"\n                    value={confirm}\n                    onChange={_handleChange(setConfirm)}\n                />\n\n                <div><span style={{ color: \"red\" }}>{error || \"\"}</span></div>\n\n                <input type=\"submit\" value={loading ? 'Verifying...' : 'Sign Up'} />\n            </form>\n        </div>\n    );\n};\n\nexport default withRouter(SignUp);\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { useDispatch } from 'redux-react-hook';\n\nimport * as actions from '../../constants/actions_types';\nimport * as routes from '../../constants/routes';\n\nconst SignIn = (props) => {\n    const dispatch = useDispatch();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    \n    const _handleChange = setter => e => {\n        setter(e.target.value);\n    };\n\n    const _handleSubmit = async (e) => {\n        if (e) e.preventDefault();\n        setLoading(true);\n\n        try {\n            const requestBody = {\n                query: `\n                    query {\n                        login(email: \"${email}\", password: \"${password}\") {\n                            _id\n                            token\n                            email\n                        }\n                    }\n                `,\n            };\n\n            const { data } = await axios.post('/api', requestBody);\n\n            if (data.errors) {\n                setLoading(false);\n                setError(data.errors[0].message);\n            } else {\n                const { _id, token } = data.data.login;\n\n                dispatch({\n                    type: actions.SET_AUTH_USER,\n                    authUser: {\n                        _id,\n                        email,\n                    },\n                });\n                setLoading(false);\n                setError(null);\n                localStorage.setItem('token', token);\n                props.history.push(routes.HOME);\n            }\n        } catch(err) {\n            setError(err);\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"content\">\n            <h1>Login</h1>\n\n            <form className=\"form\" onSubmit={_handleSubmit}>\n                <input\n                    type=\"text\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    value={email}\n                    onChange={_handleChange(setEmail)}\n                />\n\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={_handleChange(setPassword)}\n                />\n\n                <div><span style={{ color: \"red\" }}>{error || \"\"}</span></div>\n\n                <input type=\"submit\" value={loading ? 'Verifying...' : 'Login'} />\n            </form>\n        </div>\n    );\n};\n\nexport default withRouter(SignIn);\n","import React, { useCallback } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useMappedState } from 'redux-react-hook';\n\nimport useWithAuthenticate from '../WithAuthenticate';\nimport Navigation from '../Navigation';\nimport Home from '../Home';\nimport NotFound from '../NotFound';\nimport SignUp from '../SignUp';\nimport Login from '../Login';\n\nimport * as routes from '../../constants/routes';\nimport './App.css';\n\nfunction App() {\n  useWithAuthenticate();\n  const mapState = useCallback((state) => ({\n    loading: state.sessionState.loading,\n  }), []);\n\n  const { loading } = useMappedState(mapState);\n\n  if (loading) return <h1>Loading...</h1>\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <Navigation />\n        <Switch>\n          <Route exact path={routes.HOME} component={() => <Home />} />\n          <Route exact path={routes.SIGN_UP} component={() => <SignUp />} />\n          <Route exact path={routes.LOGIN} component={() => <Login />} />\n          <Route component={NotFound} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StoreContext } from 'redux-react-hook';\nimport axios from 'axios';\n\nimport store from './store';\n\nimport App from './components/App';\nimport './index.css';\n\n(function() {\n    const token = localStorage.getItem('token');\n    if (token) {\n        axios.defaults.headers.common['Authorization'] = token;\n    } else {\n        axios.defaults.headers.common['Authorization'] = null;\n    }\n})();\n\nReactDOM.render(\n    <StoreContext.Provider value={store}>\n        <App />\n    </StoreContext.Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}